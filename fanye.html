<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>触摸滑动翻页</title>
    <style>
        /* 全局样式 */
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }

        /* 容器样式 */
        .container {
            height: 300vh; /* 每页高度为 100vh，总高度为 3 页 */
            width: 100%;
            display: flex;
            flex-direction: column;
            transition: transform 0.6s ease-in-out;
        }

        /* 页面样式 */
        .page {
            height: 100vh;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            position: relative;
        }

        /* 各页面背景颜色 */
        .red {
            background-color: #FFCDD2; /* 柔和的粉红色 */
        }

        .green {
            background-color: #C8E6C9; /* 柔和的绿色 */
        }

        .yellow {
            background-color: #FFF9C4; /* 柔和的黄色 */
        }

        /* 内容样式 */
        .content {
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 80%; /* 内容宽度 */
            max-width: 800px; /* 最大宽度 */
        }

        /* 文字样式 */
        .text {
            font-size: 1.8rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        /* 图片样式 */
        .page-image {
            width: 100%; /* 图片宽度为内容宽度 */
            max-width: 400px; /* 限制最大宽度 */
            height: auto; /* 保持图片比例 */
            border-radius: 10px; /* 添加圆角 */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* 添加阴影 */
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 红色页面 -->
        <div class="page red">
            <div class="content">
                <div class="text">这是我的妈妈</div>
                <img src="1.jpg" alt="妈妈" class="page-image">
            </div>
        </div>
        <!-- 绿色页面 -->
        <div class="page green">
            <div class="content">
                <div class="text">这是我的爸爸</div>
                <img src="2.jpg" alt="爸爸" class="page-image">
            </div>
        </div>
        <!-- 黄色页面 -->
        <div class="page yellow">
            <div class="content">
                <div class="text">我们是幸福的一家</div>
                <img src="ccc.jpg" alt="幸福的一家" class="page-image">
            </div>
        </div>
    </div>

    <!-- 引入外部的 JavaScript 文件 -->
    <script>
        var container = document.querySelector(".container");
        var pages = document.getElementsByClassName("page");
        var currentPage = 0;

        var isTurning = false; // 防止频繁触发翻页

        // 监听触摸开始、滑动和结束事件
        window.onload = function () {
            var body = document.getElementsByTagName("body")[0];
            body.addEventListener("touchstart", turnBegin, false);
            body.addEventListener("touchmove", turning, false);
            body.addEventListener("touchend", turnEnd, false);
        }

        var startY, endY; // 存储触摸开始和结束的位置

        function turnBegin(event) {
            var touch = event.touches[0];
            startY = touch.pageY;
        }

        function turning(event) {
            event.preventDefault(); // 防止默认的滚动行为
            var touch = event.touches[0];
            endY = touch.pageY;
        }

        function turnEnd(event) {
            if (!isTurning) {
                if (startY - endY > 50) { // 上滑
                    nextPage();
                } else if (endY - startY > 50) { // 下滑
                    previousPage();
                }
                isTurning = true;
                setTimeout(function () {
                    isTurning = false;
                }, 600); // 防止频繁触发翻页
            }
        }

        function nextPage() {
            if (currentPage < pages.length - 1) {
                currentPage++;
            } else {
                currentPage = 0; // 如果是最后一页，则跳回首页
            }
            updatePagePosition();
        }

        function previousPage() {
            if (currentPage > 0) {
                currentPage--;
            } else {
                currentPage = pages.length - 1; // 如果是第一页，则跳到最后一页
            }
            updatePagePosition();
        }

        function updatePagePosition() {
            // 更新容器的transform属性，移动到相应的页面
            container.style.transform = "translateY(-" + currentPage * 100 + "vh)";
        }
    </script>
</body>
</html>
