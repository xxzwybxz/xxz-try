<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>触摸滑动翻页</title>
    <style>
        /* 全局样式 */
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }

        /* 容器样式 */
        .container {
            width: 100%;
            display: flex;
            flex-direction: column;
            transition: transform 0.6s ease-in-out;
        }

        /* 页面样式 */
        .page {
            height: 100vh;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            position: relative;
        }

        /* 各页面背景颜色 */
        .red {
            background-color: #dd5747; /* 柔和的粉红色 */
        }

        .green {
            background-color: #59A04B; /* 柔和的绿色 */
        }

        .yellow {
            background-color: #fbc952; /* 柔和的黄色 */
        }

        /* 动画效果 */
        @keyframes fadeIn {
            0% { opacity: 0; transform: translateY(50px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        /* 内容容器 */
        .content {
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 80%; /* 内容宽度 */
            max-width: 800px; /* 最大宽度 */
            opacity: 0;
        }

        .content.active {
            animation: fadeIn 1s ease-in-out forwards;
        }

        /* 标题样式 */
        .text {
            font-size: 2rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        /* 正文样式 */
        .description {
            font-size: 1.2rem;
            color: #555;
            margin-bottom: 20px;
            line-height: 1.6;
            padding: 0 10px;
        }

        /* 图片样式 */
        .page-image {
            width: 100%; /* 图片宽度为内容宽度 */
            max-width: 400px; /* 限制最大宽度 */
            height: auto; /* 保持图片比例 */
            border-radius: 10px; /* 添加圆角 */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* 添加阴影 */
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 红色页面 -->
        <div class="page red">
            <div class="content">
                <div class="text">这是我的妈妈</div>
                <div class="description">她是一个温柔而坚强的女人，总是用爱和关怀支持着我们的家庭。</div>
                <img src="1.jpg" alt="妈妈" class="page-image" onerror="this.src='placeholder.jpg';">
            </div>
        </div>
        <!-- 绿色页面 -->
        <div class="page green">
            <div class="content">
                <div class="text">这是我的爸爸</div>
                <div class="description">他是家庭的顶梁柱，用智慧和幽默为我们带来欢乐和安全感。</div>
                <img src="2.jpg" alt="爸爸" class="page-image" onerror="this.src='placeholder.jpg';">
            </div>
        </div>
        <!-- 黄色页面 -->
        <div class="page yellow">
            <div class="content">
                <div class="text">我们是幸福的一家</div>
                <div class="description">无论遇到什么困难，我们都彼此扶持，共同面对，让爱充满每一天。</div>
                <img src="ccc.jpg" alt="幸福的一家" class="page-image" onerror="this.src='placeholder.jpg';">
            </div>
        </div>
    </div>

    <script>
        var container = document.querySelector(".container");
        var pages = document.querySelectorAll(".page");
        var currentPage = 0;
        var isTurning = false; // 防止频繁触发翻页

        // 动态设置容器高度
        document.querySelector(".container").style.height = pages.length * 100 + "vh";

        // 初始化触摸事件
        window.onload = function () {
            var body = document.getElementsByTagName("body")[0];
            body.addEventListener("touchstart", turnBegin, false);
            body.addEventListener("touchmove", turning, false);
            body.addEventListener("touchend", turnEnd, false);

            // 初始化第一页动画
            showPageContent(currentPage);
        }

        var startY, endY; // 存储触摸开始和结束的位置

        function turnBegin(event) {
            var touch = event.touches[0];
            startY = touch.pageY;
            endY = startY; // 确保初始值一致
        }

        function turning(event) {
            if (Math.abs(startY - event.touches[0].pageY) > 10) {
                event.preventDefault(); // 仅在检测到滑动时阻止默认行为
            }
        }

        function turnEnd(event) {
            if (!isTurning && Math.abs(startY - endY) > 50) {
                isTurning = true;
                if (startY - endY > 50) nextPage();
                else if (endY - startY > 50) previousPage();
                setTimeout(() => (isTurning = false), 600); // 防止频繁触发
            }
        }

        function nextPage() {
            if (currentPage < pages.length - 1) {
                currentPage++;
            } else {
                currentPage = 0; // 如果是最后一页，则跳回首页
            }
            updatePagePosition();
        }

        function previousPage() {
            if (currentPage > 0) {
                currentPage--;
            } else {
                currentPage = pages.length - 1; // 如果是第一页，则跳到最后一页
            }
            updatePagePosition();
        }

        function updatePagePosition() {
            // 更新容器的transform属性，移动到相应的页面
            container.style.transform = "translateY(-" + currentPage * 100 + "vh)";
            showPageContent(currentPage);
        }

        function showPageContent(pageIndex) {
            // 重置所有页面内容的动画
            pages.forEach((page, index) => {
                const content = page.querySelector(".content");
                content.classList.remove("active");
            });

            // 显示当前页面内容
            const currentContent = pages[pageIndex].querySelector(".content");
            setTimeout(() => currentContent.classList.add("active"), 500);
        }
    </script>
</body>
</html>
